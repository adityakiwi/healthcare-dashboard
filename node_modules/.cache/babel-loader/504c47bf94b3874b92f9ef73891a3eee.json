{"ast":null,"code":"var _jsxFileName = \"/Users/chia/Desktop/USF/senior team/dashboard/src/views/dashboard/DashboardView/d3/StackedBarChart.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport * as d3l from 'd3-svg-legend';\nimport './StackedBarChart.css';\n\nclass StackedBarChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.removeExistingBars = this.removeExistingBars.bind(this);\n    this.createBarChart = this.createBarChart.bind(this);\n    this.state = {\n      svg: null,\n      div: null,\n      width: null,\n      height: null,\n      margin: null\n    };\n  }\n\n  componentDidMount() {\n    const owidth = this.props.size[0];\n    const oheight = this.props.size[1];\n    var margin = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 70\n    },\n        width = owidth - margin.left - margin.right,\n        height = oheight - margin.top - margin.bottom;\n    const svg = d3.select(\"body\").select(\"#sb\").select(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    const div = d3.select(\"body\").select(\"#sb\").append(\"div\").attr(\"class\", \"tooltip-donut\").style(\"opacity\", 0);\n    this.setState({\n      svg,\n      div,\n      width,\n      height,\n      margin\n    });\n  }\n\n  componentDidUpdate() {\n    this.removeExistingBars();\n    this.createBarChart();\n  }\n\n  midpoint(range) {\n    return range[0] + (range[1] - range[0]) / 2.0;\n  }\n\n  removeExistingBars() {\n    const {\n      svg\n    } = this.state;\n    svg.selectAll(\"*\").remove();\n  }\n\n  createBarChart() {\n    const {\n      svg\n    } = this.state;\n    const {\n      div\n    } = this.state;\n    const {\n      width\n    } = this.state;\n    const {\n      height\n    } = this.state;\n    const {\n      margin\n    } = this.state;\n    let output = this.props.data;\n    var yScale = d3.scaleBand().range([margin.top, height - margin.bottom]).padding(0.1).paddingOuter(0.2).rangeRound([0, height]).align(0.1);\n    var xScale = d3.scaleLinear().rangeRound([0, width]);\n    var zScale = d3.scaleOrdinal().range([\"#60a3bc\", \"#e55039\", \"#4a69bd\", \"#f6b93b\", \"#78e08f\", \"#0a3d62\", \"#b71540\", \"#0c2461\", \"#e58e26\", \"#079992\", \"#3c6382\", \"#eb2f06\", \"#1e3799\", \"#fa983a\", \"#38ada9\", \"#82ccdd\", \"#f8c291\", \"#6a89cc\", \"#fad390\", \"#b8e994\"]);\n    var keys = [\"Government\", \"Medicaid\", \"Medicare\", \"Private\", \"Self Pay\"];\n    xScale.domain([0, 1700]);\n    yScale.domain(output.map(function (d) {\n      return d.disease;\n    }));\n    zScale.domain(keys);\n    console.log(\"keys\");\n    console.log(keys);\n    console.log(\"output\");\n    console.log(output);\n    console.log(\"d3\");\n    console.log(d3.stack().keys(keys)(output));\n    svg.append(\"g\").attr(\"class\", \"axis\").call(d3.axisLeft(yScale).ticks(null, \"s\"));\n    svg.append(\"g\").attr(\"class\", \"axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xScale).ticks(16, \"f\"));\n    var colors = [\"#60a3bc\", \"#e55039\", \"#4a69bd\", \"#f6b93b\", \"#78e08f\"];\n    svg.append(\"g\").selectAll(\"g\").data(d3.stack().keys(keys)(output)).enter().append(\"g\").attr(\"fill\", function (d) {\n      return zScale(d.key);\n    }).selectAll(\"rect\").data(function (d) {\n      {\n        console.log(\"stacked\", d);\n      }\n      return d;\n    }).enter().append(\"rect\").attr(\"y\", function (d) {\n      {\n        console.log(\"y\", d);\n      }\n      return yScale(d.data.disease);\n    }).attr(\"x\", function (d) {\n      {\n        console.log(\"x\", d);\n      }\n      return xScale(d[0]);\n    }).style(\"fill\", function (d, i) {\n      return colors[i];\n    }).attr(\"height\", function (d) {\n      return yScale.bandwidth();\n    }).on(\"mouseover\", function (event, d) {\n      d3.select(this).transition().duration('50').attr('opacity', .50);\n      console.log(d, event); /// add to html\n\n      div.transition().duration(50).style(\"opacity\", 1);\n      let key = Object.keys(d.data).find(key => d.data[key] === d[1] - d[0]);\n      div.html(\" Insurance: \" + key + \"<br>\" + \"Amount of People: \" + (d[1] - d[0])).style(\"left\", event.pageX - 30 + \"px\").style(\"top\", event.pageY - 15 + \"px\");\n    }).on(\"mouseout\", function (d) {\n      d3.select(this).transition().duration('50').attr('opacity', 1);\n      div.transition().duration('50').style(\"opacity\", 0);\n    }).transition().duration(2000) //time in ms\n    .attr(\"width\", function (d) {\n      return xScale(d[1]) - xScale(d[0]);\n    });\n    var legend = d3l.legendColor().scale(zScale).shape('circle').orient('vertical').labelOffset(5);\n    svg.append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", \"translate(\" + (width - 100) + \", \" + (height - 100) + \")\").style(\"font-size\", \"12\");\n    svg.select(\".legend\").call(legend);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default StackedBarChart;","map":{"version":3,"sources":["/Users/chia/Desktop/USF/senior team/dashboard/src/views/dashboard/DashboardView/d3/StackedBarChart.js"],"names":["React","d3","d3l","StackedBarChart","Component","constructor","props","removeExistingBars","bind","createBarChart","state","svg","div","width","height","margin","componentDidMount","owidth","size","oheight","top","right","bottom","left","select","attr","append","style","setState","componentDidUpdate","midpoint","range","selectAll","remove","output","data","yScale","scaleBand","padding","paddingOuter","rangeRound","align","xScale","scaleLinear","zScale","scaleOrdinal","keys","domain","map","d","disease","console","log","stack","call","axisLeft","ticks","axisBottom","colors","enter","key","i","bandwidth","on","event","transition","duration","Object","find","html","pageX","pageY","legend","legendColor","scale","shape","orient","labelOffset","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport * as d3l from 'd3-svg-legend'\nimport './StackedBarChart.css'\n\nclass StackedBarChart extends React.Component {\n    constructor(props) {\n        super(props)\n        this.removeExistingBars = this.removeExistingBars.bind(this);\n        this.createBarChart = this.createBarChart.bind(this)\n        this.state = {\n            svg: null,\n            div: null,\n            width: null,\n            height: null,\n            margin: null\n        };\n    }\n\n    componentDidMount() {\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n\n        var margin = { top: 20, right: 20, bottom: 20, left: 70 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        const svg = d3.select(\"body\").select(\"#sb\").select(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        const div = d3.select(\"body\").select(\"#sb\").append(\"div\")\n            .attr(\"class\", \"tooltip-donut\")\n            .style(\"opacity\", 0);\n\n        this.setState({ svg, div, width, height,margin });\n    }\n\n    componentDidUpdate() {\n        this.removeExistingBars();\n        this.createBarChart();\n    }\n\n    midpoint(range) {\n        return range[0] + (range[1] - range[0]) / 2.0;\n    }\n\n    removeExistingBars() {\n        const { svg } = this.state;\n        svg.selectAll(\"*\").remove();\n    }\n\n    createBarChart() {\n        const { svg } = this.state;\n        const { div } = this.state;\n        const { width } = this.state;\n        const { height } = this.state;\n        const { margin } = this.state;\n\n        let output = this.props.data\n\n        var yScale = d3.scaleBand()\n            .range([margin.top, height - margin.bottom])\n            .padding(0.1)\n            .paddingOuter(0.2)\n            .rangeRound([0, height])\n            .align(0.1);\n\n        var xScale = d3.scaleLinear()\n            .rangeRound([0, width]);\n\n        var zScale = d3.scaleOrdinal().range([\"#60a3bc\", \"#e55039\", \"#4a69bd\", \"#f6b93b\", \"#78e08f\",\n                      \"#0a3d62\", \"#b71540\", \"#0c2461\", \"#e58e26\", \"#079992\",\n                      \"#3c6382\", \"#eb2f06\", \"#1e3799\", \"#fa983a\", \"#38ada9\",\n                      \"#82ccdd\", \"#f8c291\", \"#6a89cc\", \"#fad390\", \"#b8e994\"]);\n\n        var keys = [\"Government\", \"Medicaid\", \"Medicare\", \"Private\", \"Self Pay\"]\n        xScale.domain([0, 1700])\n\n\n        yScale.domain(output.map(function (d) { return d.disease; }));\n        zScale.domain(keys)\n\n        console.log(\"keys\")\n        console.log(keys)\n\n        console.log(\"output\")\n        console.log(output)\n\n        console.log(\"d3\")\n        console.log(d3.stack().keys(keys)(output))\n\n        svg.append(\"g\")\n            .attr(\"class\", \"axis\")\n            .call(d3.axisLeft(yScale).ticks(null, \"s\"));\n        svg.append(\"g\")\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xScale).ticks(16, \"f\"));\n\n        var colors = [\"#60a3bc\", \"#e55039\", \"#4a69bd\", \"#f6b93b\", \"#78e08f\"];\n        svg.append(\"g\")\n            .selectAll(\"g\")\n            .data(d3.stack().keys(keys)(output))\n            .enter().append(\"g\")\n            .attr(\"fill\", function (d) { return zScale(d.key) })\n            .selectAll(\"rect\").data(function (d) { { console.log(\"stacked\", d) } return d; })\n            .enter().append(\"rect\")\n            .attr(\"y\", function (d) { { console.log(\"y\", d) } return yScale(d.data.disease) })\n            .attr(\"x\", function (d) { { console.log(\"x\", d) } return xScale(d[0]) })\n            .style(\"fill\", function (d, i) { return colors[i]; })\n            .attr(\"height\", function (d) {\n                return yScale.bandwidth()\n            })\n            .on(\"mouseover\", function (event, d) {\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', .50);\n                console.log(d, event)\n                /// add to html\n                div.transition()\n                    .duration(50)\n                    .style(\"opacity\", 1)\n                let key = Object.keys(d.data).find(key => d.data[key] === d[1] - d[0]);\n\n                div.html(\" Insurance: \" + key + \"<br>\" + \"Amount of People: \" + (d[1] - d[0]))\n                    .style(\"left\", (event.pageX - 30) + \"px\")\n                    .style(\"top\", (event.pageY - 15) + \"px\")\n\n            })\n            .on(\"mouseout\", function (d) {\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', 1)\n                div.transition()\n                    .duration('50')\n                    .style(\"opacity\", 0)\n            })\n            .transition()\n            .duration(2000)//time in ms\n            .attr(\"width\", function (d) {\n                return xScale(d[1]) - xScale(d[0])\n            })\n\n        var legend = d3l.legendColor()\n            .scale(zScale)\n            .shape('circle')\n            .orient('vertical')\n            .labelOffset(5)\n\n        svg.append(\"g\")\n            .attr(\"class\", \"legend\")\n            .attr(\"transform\", \"translate(\" + (width - 100) + \", \" + (height-100) + \")\")\n            .style(\"font-size\", \"12\")\n\n        svg.select(\".legend\")\n            .call(legend);\n    }\n\n    render() {\n        return (\n            <svg />\n        )\n    }\n}\n\nexport default StackedBarChart;\n"]},"metadata":{},"sourceType":"module"}