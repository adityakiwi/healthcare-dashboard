{"ast":null,"code":"var _jsxFileName = \"/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/reports/DashboardView/DiagnosesBarChart.js\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport GroupedBarChart from './GroupedBarChart';\nimport { Box, Button, Card, CardContent, CardHeader, Divider, useTheme, makeStyles, colors, CardActions } from '@material-ui/core';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst DiagnosesBarChart = ({\n  className,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  let [loading, setLoading] = React.useState(true);\n  let [data, setData] = React.useState([]);\n  let [selector, setSelector] = React.useState('gender');\n  let [scale, setScale] = React.useState({\n    logarithmic: false\n  });\n  console.log(selector);\n  React.useEffect(() => {\n    let apiUrl = 'https://visualizing-healthcare-data.wm.r.appspot.com/diagnosis_dist/' + selector + '/';\n    fetch(apiUrl).then(response => response.json()).then(result => {\n      setData(result);\n      setLoading(false);\n    });\n  }, [selector, scale]);\n  console.log(data);\n\n  const handleCategory = event => {\n    setLoading(true);\n    setSelector(event.target.value);\n  };\n\n  const handleScale = event => {\n    setScale({ ...scale,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Card, Object.assign({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(CardHeader, {\n    action: /*#__PURE__*/React.createElement(Select, {\n      endIcon: /*#__PURE__*/React.createElement(ArrowDropDownIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 22\n        }\n      }),\n      value: selector,\n      onChange: handleCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"gender\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"religion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, \"Religion\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"ethnicity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"Ethnicity\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"language\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, \"Language\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"insurance\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"Insurance\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"maritalstatus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"Marital Status\")),\n    title: \"Diagnoses with patient distribution \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Switch, {\n      checked: scale.logarithmic,\n      onChange: handleScale,\n      name: \"logarithmic\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }),\n    label: \"Logarithmic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    id: \"gbc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(GroupedBarChart, {\n    data: data,\n    selector: selector,\n    scale: scale,\n    size: [1200, 800],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 109\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }));\n};\n\nDiagnosesBarChart.propTypes = {\n  className: PropTypes.string\n};\nexport default DiagnosesBarChart;","map":{"version":3,"sources":["/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/reports/DashboardView/DiagnosesBarChart.js"],"names":["React","clsx","PropTypes","GroupedBarChart","Box","Button","Card","CardContent","CardHeader","Divider","useTheme","makeStyles","colors","CardActions","ArrowDropDownIcon","ArrowRightIcon","CircularProgress","Select","MenuItem","FormControlLabel","Switch","useStyles","root","DiagnosesBarChart","className","rest","classes","theme","loading","setLoading","useState","data","setData","selector","setSelector","scale","setScale","logarithmic","console","log","useEffect","apiUrl","fetch","then","response","json","result","handleCategory","event","target","value","handleScale","name","checked","propTypes","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport GroupedBarChart from './GroupedBarChart';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Divider,\n  useTheme,\n  makeStyles,\n  colors,\n  CardActions\n} from '@material-ui/core';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst DiagnosesBarChart = ({ className, ...rest }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  let [loading, setLoading] = React.useState(true);\n  let [data, setData] = React.useState([]);\n  let [selector, setSelector] = React.useState('gender');\n  let [scale, setScale] = React.useState({\n    logarithmic: false,\n  });\n\n  \n  console.log(selector)\n  React.useEffect(() => {\n    let apiUrl = 'https://visualizing-healthcare-data.wm.r.appspot.com/diagnosis_dist/' + selector + '/';\n    fetch(apiUrl)\n      .then((response) => response.json())\n      .then(result => {\n        setData(result);\n        setLoading(false);\n      })\n\n  }, [selector, scale])\n  console.log(data)\n\n  const handleCategory = (event) => {\n    setLoading(true)\n    setSelector(event.target.value);\n   };\n\n  const handleScale = (event) => {\n    setScale({ ...scale, [event.target.name]: event.target.checked });\n  };\n\n\n  return (\n    <Card\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <CardHeader\n        action={(\n\n        <Select\n            endIcon={<ArrowDropDownIcon />}\n          value={selector}\n          onChange={handleCategory}\n        >\n          <MenuItem value={\"gender\"}>Gender</MenuItem>\n            <MenuItem value={\"religion\"}>Religion</MenuItem>\n            <MenuItem value={\"ethnicity\"}>Ethnicity</MenuItem>\n            <MenuItem value={\"language\"}>Language</MenuItem>\n            <MenuItem value={\"insurance\"}>Insurance</MenuItem>\n            <MenuItem value={\"maritalstatus\"}>Marital Status</MenuItem>\n        </Select>\n\n\n        \n        )}\n        title=\"Diagnoses with patient distribution \"\n\n        \n      />\n      <CardActions>\n\n\n          <FormControlLabel\n            control={\n              <Switch\n                checked={scale.logarithmic}\n                onChange={handleScale}\n                name=\"logarithmic\"\n                color=\"primary\"\n              />\n            }\n            label=\"Logarithmic\"\n          />\n\n  \n      </CardActions>\n      <Divider />\n      <CardContent id={\"gbc\"}>\n        {/* <Box\n          id={\"gbc\"}\n          height={400}\n          position=\"relative\"\n        > */}\n        {!loading ? <GroupedBarChart data={data} selector={selector} scale= {scale} size={[1200, 800]} /> : <CircularProgress />}\n        {/* </Box> */}\n      </CardContent>\n      <Divider />\n      <Box\n        display=\"flex\"\n        justifyContent=\"flex-end\"\n        p={2}\n      >\n        {/* <Button\n          color=\"primary\"\n          endIcon={<ArrowRightIcon />}\n          size=\"small\"\n          variant=\"text\"\n        >\n          Overview\n        </Button> */}\n      </Box>\n    </Card>\n  );\n};\n\nDiagnosesBarChart.propTypes = {\n  className: PropTypes.string\n};\n\nexport default DiagnosesBarChart;"]},"metadata":{},"sourceType":"module"}