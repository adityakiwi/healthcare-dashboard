{"ast":null,"code":"var _jsxFileName = \"/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/BubbleChart.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { range } from 'd3';\n\nclass BubbleChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.removeExistingBubbles = this.removeExistingBubbles.bind(this);\n    this.createBarChart = this.createBarChart.bind(this);\n    this.state = {\n      svg: null,\n      width: null,\n      height: null\n    };\n  }\n\n  componentDidMount() {\n    const owidth = this.props.size[0];\n    const oheight = this.props.size[1];\n    var diameter = 600;\n    var margin = {\n      top: 20,\n      right: 20,\n      bottom: 70,\n      left: 100\n    },\n        width = owidth - margin.left - margin.right,\n        height = oheight - margin.top - margin.bottom;\n    const svg = d3.select(\"body\").select(\"#bc\").select(\"svg\").attr(\"width\", diameter).attr(\"height\", diameter).attr(\"class\", \"bubble\");\n    this.setState({\n      svg\n    });\n    this.setState({\n      width\n    });\n    this.setState({\n      height\n    });\n  }\n\n  componentDidUpdate() {\n    this.removeExistingBubbles();\n    this.createBarChart();\n  }\n\n  midpoint(range) {\n    return range[0] + (range[1] - range[0]) / 2.0;\n  }\n\n  removeExistingBubbles() {\n    const {\n      svg\n    } = this.state;\n    svg.selectAll(\"*\").remove();\n  }\n\n  createBarChart() {\n    const {\n      svg\n    } = this.state;\n    const {\n      width\n    } = this.state;\n    const {\n      height\n    } = this.state;\n    const rawdata = this.props.data;\n    console.log(rawdata);\n    let dataset = {\n      \"children\": []\n    };\n    console.log(dataset);\n    console.log(typeof dataset);\n\n    for (var val of rawdata) {\n      let key = Object.values(val)[0];\n      let theval = Object.values(Object.values(val)[1][0])[0];\n      dataset[\"children\"].push({\n        Name: key,\n        Count: theval\n      });\n    }\n\n    console.log(dataset);\n    var diameter = 300;\n    var color = d3.scaleOrdinal(d3.schemeCategory10);\n    var bubble = d3.pack(dataset).size([diameter, diameter]).padding(1.5);\n    var nodes = d3.hierarchy(dataset).sum(function (d) {\n      return d.Count;\n    });\n    var diameter = 600;\n    var color = d3.scaleOrdinal(d3.schemeCategory10);\n    var bubble = d3.pack(dataset).size([diameter, diameter]).padding(1.5);\n    var nodes = d3.hierarchy(dataset).sum(function (d) {\n      return d.Count;\n    });\n    var node = svg.selectAll(\".node\").data(bubble(nodes).descendants()).enter().filter(function (d) {\n      return !d.children;\n    }).append(\"g\").attr(\"class\", \"node\").attr(\"transform\", function (d) {\n      return \"translate(\" + d.x + \",\" + d.y + \")\";\n    });\n    node.append(\"title\").text(function (d) {\n      return d.Name + \": \" + d.Count;\n    });\n    node.append(\"circle\").attr(\"r\", function (d) {\n      return d.r;\n    }).style(\"fill\", function (d, i) {\n      return color(i);\n    });\n    node.append(\"text\").attr(\"dy\", \".2em\").style(\"text-anchor\", \"middle\").text(function (d) {\n      return d.data.Name.substring(0, d.r / 3);\n    }).attr(\"font-family\", \"sans-serif\").attr(\"font-size\", function (d) {\n      return d.r / 5;\n    }).attr(\"fill\", \"white\");\n    node.append(\"text\").attr(\"dy\", \"1.3em\").style(\"text-anchor\", \"middle\").text(function (d) {\n      return d.data.Count;\n    }).attr(\"font-family\", \"Gill Sans\", \"Gill Sans MT\").attr(\"font-size\", function (d) {\n      return d.r / 5;\n    }).attr(\"fill\", \"white\");\n    node.append(\"title\").text(function (d) {\n      return d.Name + \": \" + d.Count;\n    });\n    node.append(\"circle\").attr(\"r\", function (d) {\n      return d.r;\n    }).style(\"fill\", function (d, i) {\n      return color(i);\n    });\n    node.append(\"text\").attr(\"dy\", \".2em\").style(\"text-anchor\", \"middle\").text(function (d) {\n      return d.data.Name.substring(0, d.r / 3);\n    }).attr(\"font-family\", \"sans-serif\").attr(\"font-size\", function (d) {\n      return d.r / 5;\n    }).attr(\"fill\", \"white\");\n    node.append(\"text\").attr(\"dy\", \"1.3em\").style(\"text-anchor\", \"middle\").text(function (d) {\n      return d.data.Count;\n    }).attr(\"font-family\", \"Gill Sans\", \"Gill Sans MT\").attr(\"font-size\", function (d) {\n      return d.r / 5;\n    }).attr(\"fill\", \"white\");\n    svg.selectAll(\"circle\").on(\"click\", clicked);\n\n    function clicked(event, d) {\n      if (event.defaultPrevented) return; // dragged\n\n      d3.select(this).transition().attr(\"fill\", \"black\").attr(\"r\", d.r * 2).transition().attr(\"r\", d.r).attr(\"fill\", d3.schemeCategory10[d.index % 10]);\n    } // var zoom = d3.zoom()\n    //     .scaleExtent([1, 8])\n    //     .on('zoom', function (event) {\n    //             svg.attr('transform', event.transform)\n    //     });\n    // svg.call(zoom);\n\n\n    function mouseover() {\n      d3.select(this).attr(\"opacity\", .5);\n    }\n\n    function mouseout() {\n      d3.select(this).attr(\"opacity\", 1);\n    }\n\n    function zoomed({\n      transform\n    }) {\n      nodes.attr(\"transform\", transform);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default BubbleChart;","map":{"version":3,"sources":["/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/BubbleChart.js"],"names":["React","d3","range","BubbleChart","Component","constructor","props","removeExistingBubbles","bind","createBarChart","state","svg","width","height","componentDidMount","owidth","size","oheight","diameter","margin","top","right","bottom","left","select","attr","setState","componentDidUpdate","midpoint","selectAll","remove","rawdata","data","console","log","dataset","val","key","Object","values","theval","push","Name","Count","color","scaleOrdinal","schemeCategory10","bubble","pack","padding","nodes","hierarchy","sum","d","node","descendants","enter","filter","children","append","x","y","text","r","style","i","substring","on","clicked","event","defaultPrevented","transition","index","mouseover","mouseout","zoomed","transform","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport { range } from 'd3';\n\nclass BubbleChart extends React.Component {\n    constructor(props) {\n        super(props)\n        this.removeExistingBubbles = this.removeExistingBubbles.bind(this);\n        this.createBarChart = this.createBarChart.bind(this)\n        this.state = {\n            svg: null,\n            width: null,\n            height: null,\n        };\n\n    }\n    componentDidMount() {\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n        var diameter = 600;\n\n        var margin = { top: 20, right: 20, bottom: 70, left: 100 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        const svg = d3.select(\"body\").select(\"#bc\").select(\"svg\")\n            .attr(\"width\", diameter)\n            .attr(\"height\", diameter)\n            .attr(\"class\", \"bubble\");\n\n        this.setState({ svg });\n        this.setState({ width });\n        this.setState({ height });\n\n    }\n    componentDidUpdate() {\n        this.removeExistingBubbles();\n        this.createBarChart();\n    }\n\n    midpoint(range) {\n        return range[0] + (range[1] - range[0]) / 2.0;\n    }\n\n    removeExistingBubbles() {\n        const { svg } = this.state;\n\n        svg.selectAll(\"*\").remove();\n\n    }\n\n    createBarChart() {\n        const { svg } = this.state;\n        const { width } = this.state;\n        const { height } = this.state;\n\n        const rawdata = this.props.data\n\n        console.log(rawdata)\n\n        let dataset = {\n            \"children\": []\n        };\n\n        console.log(dataset)\n        console.log(typeof (dataset))\n\n        for (var val of rawdata) {\n            let key = Object.values(val)[0]\n            let theval = Object.values(Object.values(val)[1][0])[0]\n\n            dataset[\"children\"].push({\n                Name: key,\n                Count: theval\n            })\n        }\n        console.log(dataset)\n\n        var diameter = 300;\n        var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n        var bubble = d3.pack(dataset)\n            .size([diameter, diameter])\n            .padding(1.5);\n\n\n        var nodes = d3.hierarchy(dataset)\n            .sum(function (d) { return d.Count; });\n\n        var diameter = 600;\n        var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n        var bubble = d3.pack(dataset)\n            .size([diameter, diameter])\n            .padding(1.5);\n\n        var nodes = d3.hierarchy(dataset)\n            .sum(function (d) { return d.Count; });\n\n        var node = svg.selectAll(\".node\")\n            .data(bubble(nodes).descendants())\n            .enter()\n            .filter(function (d) {\n                return !d.children\n            })\n            .append(\"g\")\n            .attr(\"class\", \"node\")\n            .attr(\"transform\", function (d) {\n                return \"translate(\" + d.x + \",\" + d.y + \")\";\n            })\n            \n\n        node.append(\"title\")\n            .text(function (d) {\n                return d.Name + \": \" + d.Count;\n            });\n\n        node.append(\"circle\")\n            .attr(\"r\", function (d) {\n                return d.r;\n            })\n            .style(\"fill\", function (d, i) {\n                return color(i);\n            });\n\n        node.append(\"text\")\n            .attr(\"dy\", \".2em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(function (d) {\n                return d.data.Name.substring(0, d.r / 3);\n            })\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"font-size\", function (d) {\n                return d.r / 5;\n            })\n            .attr(\"fill\", \"white\");\n\n        node.append(\"text\")\n            .attr(\"dy\", \"1.3em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(function (d) {\n                return d.data.Count;\n            })\n            .attr(\"font-family\", \"Gill Sans\", \"Gill Sans MT\")\n            .attr(\"font-size\", function (d) {\n                return d.r / 5;\n            })\n            .attr(\"fill\", \"white\");\n\n        node.append(\"title\")\n            .text(function (d) {\n                return d.Name + \": \" + d.Count;\n            });\n\n        node.append(\"circle\")\n            .attr(\"r\", function (d) {\n                return d.r;\n            })\n            .style(\"fill\", function (d, i) {\n                return color(i);\n            });\n\n        node.append(\"text\")\n            .attr(\"dy\", \".2em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(function (d) {\n                return d.data.Name.substring(0, d.r / 3);\n            })\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"font-size\", function (d) {\n                return d.r / 5;\n            })\n            .attr(\"fill\", \"white\");\n\n        node.append(\"text\")\n            .attr(\"dy\", \"1.3em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(function (d) {\n                return d.data.Count;\n            })\n            .attr(\"font-family\", \"Gill Sans\", \"Gill Sans MT\")\n            .attr(\"font-size\", function (d) {\n                return d.r / 5;\n            })\n            .attr(\"fill\", \"white\");\n        \n        svg.selectAll(\"circle\").on(\"click\", clicked);\n\n        function clicked(event, d) {\n            if (event.defaultPrevented) return; // dragged\n\n            d3.select(this).transition()\n                .attr(\"fill\", \"black\")\n                .attr(\"r\", d.r * 2)\n                .transition()\n                .attr(\"r\", d.r)\n                .attr(\"fill\", d3.schemeCategory10[d.index % 10]);\n        }\n\n        // var zoom = d3.zoom()\n        //     .scaleExtent([1, 8])\n        //     .on('zoom', function (event) {\n        //             svg.attr('transform', event.transform)\n\n        //     });\n\n        // svg.call(zoom);\n\n        function mouseover() {\n            d3.select(this).attr(\"opacity\", .5)\n\n        }\n\n        function mouseout() {\n            d3.select(this).attr(\"opacity\", 1);\n        }\n\n        function zoomed({ transform }) {\n            nodes.attr(\"transform\", transform);\n        }\n\n\n    }\n\n\n\n    render() {\n        return (\n            <svg />\n        )\n    }\n\n}\n\nexport default BubbleChart;\n"]},"metadata":{},"sourceType":"module"}