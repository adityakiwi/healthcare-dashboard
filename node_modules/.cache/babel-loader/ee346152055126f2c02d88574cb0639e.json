{"ast":null,"code":"import _classCallCheck from\"/Users/aditya/Dropbox/Wesbite/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/aditya/Dropbox/Wesbite/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/aditya/Dropbox/Wesbite/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/aditya/Dropbox/Wesbite/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/aditya/Dropbox/Wesbite/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import*as d3 from'd3';import*as d3l from'd3-svg-legend';import'./StackedBarChart.css';var StackedBarChart=/*#__PURE__*/function(_React$Component){_inherits(StackedBarChart,_React$Component);var _super=_createSuper(StackedBarChart);function StackedBarChart(props){var _this;_classCallCheck(this,StackedBarChart);_this=_super.call(this,props);_this.removeExistingBars=_this.removeExistingBars.bind(_assertThisInitialized(_this));_this.createBarChart=_this.createBarChart.bind(_assertThisInitialized(_this));_this.state={svg:null,div:null,width:null,height:null,margin:null};return _this;}_createClass(StackedBarChart,[{key:\"componentDidMount\",value:function componentDidMount(){var owidth=this.props.size[0];var oheight=this.props.size[1];var margin={top:20,right:20,bottom:20,left:160},width=owidth-margin.left-margin.right,height=oheight-margin.top-margin.bottom;var svg=d3.select(\"body\").select(\"#sb\").select(\"svg\").attr(\"width\",width+margin.left+margin.right).attr(\"height\",height+margin.top+margin.bottom).append(\"g\").attr(\"transform\",\"translate(\"+margin.left+\",\"+margin.top+\")\");var div=d3.select(\"body\").select(\"#sb\").append(\"div\").attr(\"class\",\"tooltip-donut\").style(\"opacity\",0);this.setState({svg:svg,div:div,width:width,height:height,margin:margin});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.removeExistingBars();this.createBarChart();}},{key:\"midpoint\",value:function midpoint(range){return range[0]+(range[1]-range[0])/2.0;}},{key:\"removeExistingBars\",value:function removeExistingBars(){var svg=this.state.svg;svg.selectAll(\"*\").remove();}},{key:\"createBarChart\",value:function createBarChart(){var svg=this.state.svg;var div=this.state.div;var width=this.state.width;var height=this.state.height;var margin=this.state.margin;var output=this.props.data;var yScale=d3.scaleBand().range([margin.top,height-margin.bottom]).padding(0.1).paddingOuter(0.2).rangeRound([0,height]).align(0.1);var xScale=d3.scaleLinear().rangeRound([0,width]);var zScale=d3.scaleOrdinal().range([\"#60a3bc\",\"#e55039\",\"#4a69bd\",\"#f6b93b\",\"#78e08f\"]);var keys=[\"Government\",\"Medicaid\",\"Medicare\",\"Private\",\"Self Pay\"];xScale.domain([0,1700]);yScale.domain(output.map(function(d){return d.disease;}));zScale.domain(keys);console.log(\"keys\");console.log(keys);console.log(\"output\");console.log(output);console.log(\"d3\");console.log(d3.stack().keys(keys)(output));svg.append(\"g\").attr(\"class\",\"axis\").call(d3.axisLeft(yScale).ticks(null,\"s\"));svg.append(\"g\").attr(\"class\",\"axis\").attr(\"transform\",\"translate(0,\"+height+\")\").call(d3.axisBottom(xScale).ticks(16,\"f\"));svg.append(\"g\").selectAll(\"g\").data(d3.stack().keys(keys)(output)).enter().append(\"g\").attr(\"fill\",function(d){return zScale(d.key);}).selectAll(\"rect\").data(function(d){{console.log(\"stacked\",d);}return d;}).enter().append(\"rect\").attr(\"y\",function(d){{console.log(\"y\",d);}return yScale(d.data.disease);}).attr(\"x\",function(d){{console.log(\"x\",d);}return xScale(d[0]);}).style(\"fill\",function(d,i){return zScale[i];}).attr(\"height\",function(d){return yScale.bandwidth();}).on(\"mouseover\",function(event,d){d3.select(this).transition().duration('50').attr('opacity',.50);console.log(d,event);/// add to html\ndiv.transition().duration(50).style(\"opacity\",1);var key=Object.keys(d.data).find(function(key){return d.data[key]===d[1]-d[0];});div.html(\" Insurance: \"+key+\"<br>\"+\"Amount of People: \"+(d[1]-d[0])).style(\"left\",event.pageX-30+\"px\").style(\"top\",event.pageY-15+\"px\");}).on(\"mouseout\",function(d){d3.select(this).transition().duration('50').attr('opacity',1);div.transition().duration('50').style(\"opacity\",0);}).transition().duration(2000)//time in ms\n.attr(\"width\",function(d){return xScale(d[1])-xScale(d[0]);});var legend=d3l.legendColor().scale(zScale).shape('circle').orient('vertical').labelOffset(5);svg.append(\"g\").attr(\"class\",\"legend\").attr(\"transform\",\"translate(\"+(width-100)+\", \"+(height-100)+\")\").style(\"font-size\",\"12\");svg.select(\".legend\").call(legend);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"svg\",null);}}]);return StackedBarChart;}(React.Component);export default StackedBarChart;","map":{"version":3,"sources":["/Users/aditya/Dropbox/Wesbite/dashboard/src/views/dashboard/DashboardView/d3/StackedBarChart.js"],"names":["React","d3","d3l","StackedBarChart","props","removeExistingBars","bind","createBarChart","state","svg","div","width","height","margin","owidth","size","oheight","top","right","bottom","left","select","attr","append","style","setState","range","selectAll","remove","output","data","yScale","scaleBand","padding","paddingOuter","rangeRound","align","xScale","scaleLinear","zScale","scaleOrdinal","keys","domain","map","d","disease","console","log","stack","call","axisLeft","ticks","axisBottom","enter","key","i","bandwidth","on","event","transition","duration","Object","find","html","pageX","pageY","legend","legendColor","scale","shape","orient","labelOffset","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport * as d3l from 'd3-svg-legend'\nimport './StackedBarChart.css'\n\nclass StackedBarChart extends React.Component {\n    constructor(props) {\n        super(props)\n        this.removeExistingBars = this.removeExistingBars.bind(this);\n        this.createBarChart = this.createBarChart.bind(this)\n        this.state = {\n            svg: null,\n            div: null,\n            width: null,\n            height: null,\n            margin: null\n        };\n    }\n\n    componentDidMount() {\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n\n        var margin = { top: 20, right: 20, bottom: 20, left: 160 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        const svg = d3.select(\"body\").select(\"#sb\").select(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        const div = d3.select(\"body\").select(\"#sb\").append(\"div\")\n            .attr(\"class\", \"tooltip-donut\")\n            .style(\"opacity\", 0);\n\n        this.setState({ svg, div, width, height,margin });\n    }\n\n    componentDidUpdate() {\n        this.removeExistingBars();\n        this.createBarChart();\n    }\n\n    midpoint(range) {\n        return range[0] + (range[1] - range[0]) / 2.0;\n    }\n\n    removeExistingBars() {\n        const { svg } = this.state;\n        svg.selectAll(\"*\").remove();\n    }\n\n    createBarChart() {\n        const { svg } = this.state;\n        const { div } = this.state;\n        const { width } = this.state;\n        const { height } = this.state;\n        const { margin } = this.state;\n\n        let output = this.props.data\n\n        var yScale = d3.scaleBand()\n            .range([margin.top, height - margin.bottom])\n            .padding(0.1)\n            .paddingOuter(0.2)\n            .rangeRound([0, height])\n            .align(0.1);\n\n        var xScale = d3.scaleLinear()\n            .rangeRound([0, width]);\n\n        var zScale = d3.scaleOrdinal().range([\"#60a3bc\", \"#e55039\", \"#4a69bd\", \"#f6b93b\", \"#78e08f\"]);\n\n        var keys = [\"Government\", \"Medicaid\", \"Medicare\", \"Private\", \"Self Pay\"]\n        xScale.domain([0, 1700])\n\n\n        yScale.domain(output.map(function (d) { return d.disease; }));\n        zScale.domain(keys)\n\n        console.log(\"keys\")\n        console.log(keys)\n\n        console.log(\"output\")\n        console.log(output)\n\n        console.log(\"d3\")\n        console.log(d3.stack().keys(keys)(output))\n\n        svg.append(\"g\")\n            .attr(\"class\", \"axis\")\n            .call(d3.axisLeft(yScale).ticks(null, \"s\"));\n        svg.append(\"g\")\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xScale).ticks(16, \"f\"));\n\n        svg.append(\"g\")\n            .selectAll(\"g\")\n            .data(d3.stack().keys(keys)(output))\n            .enter().append(\"g\")\n            .attr(\"fill\", function (d) { return zScale(d.key) })\n            .selectAll(\"rect\").data(function (d) { { console.log(\"stacked\", d) } return d; })\n            .enter().append(\"rect\")\n            .attr(\"y\", function (d) { { console.log(\"y\", d) } return yScale(d.data.disease) })\n            .attr(\"x\", function (d) { { console.log(\"x\", d) } return xScale(d[0]) })\n            .style(\"fill\", function (d, i) { return zScale[i]; })\n            .attr(\"height\", function (d) {\n                return yScale.bandwidth()\n            })\n            .on(\"mouseover\", function (event, d) {\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', .50);\n                console.log(d, event)\n                /// add to html\n                div.transition()\n                    .duration(50)\n                    .style(\"opacity\", 1)\n                let key = Object.keys(d.data).find(key => d.data[key] === d[1] - d[0]);\n\n                div.html(\" Insurance: \" + key + \"<br>\" + \"Amount of People: \" + (d[1] - d[0]))\n                    .style(\"left\", (event.pageX - 30) + \"px\")\n                    .style(\"top\", (event.pageY - 15) + \"px\")\n\n            })\n            .on(\"mouseout\", function (d) {\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', 1)\n                div.transition()\n                    .duration('50')\n                    .style(\"opacity\", 0)\n            })\n            .transition()\n            .duration(2000)//time in ms\n            .attr(\"width\", function (d) {\n                return xScale(d[1]) - xScale(d[0])\n            })\n\n        var legend = d3l.legendColor()\n            .scale(zScale)\n            .shape('circle')\n            .orient('vertical')\n            .labelOffset(5)\n\n        svg.append(\"g\")\n            .attr(\"class\", \"legend\")\n            .attr(\"transform\", \"translate(\" + (width - 100) + \", \" + (height-100) + \")\")\n            .style(\"font-size\", \"12\")\n\n        svg.select(\".legend\")\n            .call(legend);\n    }\n\n    render() {\n        return (\n            <svg />\n        )\n    }\n}\n\nexport default StackedBarChart;\n"]},"metadata":{},"sourceType":"module"}