{"ast":null,"code":"import _slicedToArray from\"/Users/aditya/Dropbox/Senior S1/ST/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/aditya/Dropbox/Senior S1/ST/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from'react';import clsx from'clsx';import AreaChart from'./AreaChart';import{Box,Button,Card,CardContent,CardHeader,Divider,useTheme,makeStyles,colors}from'@material-ui/core';import ArrowDropDownIcon from'@material-ui/icons/ArrowDropDown';import ArrowRightIcon from'@material-ui/icons/ArrowRight';import CircularProgress from'@material-ui/core/CircularProgress';import Select from'@material-ui/core/Select';import MenuItem from'@material-ui/core/MenuItem';var useStyles=makeStyles(function(){return{root:{}};});function areaP(dataset){var arr=[];console.log(\"aledata\",dataset);console.log(\"dataprocess values\");dataset.forEach(function(d){d.values.forEach(function(e){var o={};o[d.diagnosis]=e.value;o.id=e.age;o.total=e.value;arr.push(o);});});console.log(\"arr\",arr);var output=[];arr.forEach(function(item){console.log(\"each item\",item);var exist=output.filter(function(v,i){return v.id==item.id;});console.log(\"exist\",exist);if(exist.length){var index=output.indexOf(exist[0]);var total=output[index].total+item.total;console.log(\"index\",index);console.log(\"total\",total);Object.assign(output[index],item);output[index].total=total;}else{if(typeof item.value=='string'){console.log(\"string\",item.value);item.value=[item.value];}console.log(\"item\",item);output.push(item);}});output.sort(function(a,b){return a.id-b.id;});console.log(\"output\",output);return output;}function getKeys(dataset){return dataset.map(function(d){return d.diagnosis;});}var DiagnosesLineChart=function DiagnosesLineChart(_ref){var className=_ref.className,rest=_objectWithoutProperties(_ref,[\"className\"]);var classes=useStyles();var theme=useTheme();var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),data=_React$useState4[0],setData=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),keys=_React$useState6[0],setKeys=_React$useState6[1];React.useEffect(function(){var apiUrl='https://visualizing-healthcare-data.wm.r.appspot.com/data/age/';fetch(apiUrl).then(function(response){return response.json();}).then(function(result){setData(areaP(result));setKeys(getKeys(result));setLoading(false);});},[]);console.log(data);// const handleChange = (event) => {\n//     setSelector(event.target.value);\n// };\nreturn/*#__PURE__*/React.createElement(Card,Object.assign({className:clsx(classes.root,className)},rest),/*#__PURE__*/React.createElement(CardHeader// action={(\n//     <Select\n//         endIcon={<ArrowDropDownIcon />}\n//         value={selector}\n//         onChange={handleChange}\n//     >\n//         <MenuItem value={0}>Chest Pain</MenuItem>\n//         <MenuItem value={1}>Pneumonia</MenuItem>\n//         <MenuItem value={2}>Sepsis</MenuItem>\n//         <MenuItem value={3}>Trauma</MenuItem>\n//     </Select>\n// )}\n,{title:\"Q4 Age Area Chart\"}),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(CardContent,{id:\"lc\"},!loading?/*#__PURE__*/React.createElement(AreaChart,{data:data,keys:keys,size:[450,500]}):/*#__PURE__*/React.createElement(CircularProgress,null)),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Box,{display:\"flex\",justifyContent:\"flex-end\",p:2}));};export default DiagnosesLineChart;","map":{"version":3,"sources":["/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/DiagnosesAreaChart.js"],"names":["React","clsx","AreaChart","Box","Button","Card","CardContent","CardHeader","Divider","useTheme","makeStyles","colors","ArrowDropDownIcon","ArrowRightIcon","CircularProgress","Select","MenuItem","useStyles","root","areaP","dataset","arr","console","log","forEach","d","values","e","o","diagnosis","value","id","age","total","push","output","item","exist","filter","v","i","length","index","indexOf","Object","assign","sort","a","b","getKeys","map","DiagnosesLineChart","className","rest","classes","theme","useState","loading","setLoading","data","setData","keys","setKeys","useEffect","apiUrl","fetch","then","response","json","result"],"mappings":"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","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport AreaChart from './AreaChart';\nimport {\n    Box,\n    Button,\n    Card,\n    CardContent,\n    CardHeader,\n    Divider,\n    useTheme,\n    makeStyles,\n    colors\n} from '@material-ui/core';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst useStyles = makeStyles(() => ({\n    root: {}\n}));\n\n\nfunction areaP(dataset) {\n    let arr = []\n    console.log(\"aledata\", dataset)\n    console.log(\"dataprocess values\")\n    dataset.forEach(function (d) {\n        d.values.forEach(function (e) {\n            let o = {}\n            o[d.diagnosis] = e.value\n            o.id = e.age\n            o.total = e.value\n            arr.push(o)\n        })\n    });\n    console.log(\"arr\", arr)\n\n    let output = []\n\n    arr.forEach(function (item) {\n        console.log(\"each item\", item)\n        var exist = output.filter(function (v, i) {\n            return v.id == item.id\n        });\n        console.log(\"exist\", exist)\n        if (exist.length) {\n            var index = output.indexOf(exist[0]);\n            var total = output[index].total + item.total;\n            console.log(\"index\", index)\n            console.log(\"total\", total)\n            Object.assign(output[index], item);\n            output[index].total = total;\n        } else {\n            if (typeof item.value == 'string') {\n                console.log(\"string\", item.value)\n                item.value = [item.value];\n            }\n            console.log(\"item\", item)\n            output.push(item);\n        }\n    });\n    output.sort(function (a, b) { return a.id - b.id; });\n\n    console.log(\"output\", output)\n    return output\n}\n\nfunction getKeys(dataset)\n{\n    return dataset.map(function (d) { return d.diagnosis; });\n}\nconst DiagnosesLineChart = ({ className, ...rest }) => {\n    const classes = useStyles();\n    const theme = useTheme();\n\n    let [loading, setLoading] = React.useState(true);\n    let [data, setData] = React.useState([]);\n    let [keys, setKeys] = React.useState([]);\n\n    React.useEffect(() => {\n        let apiUrl = 'https://visualizing-healthcare-data.wm.r.appspot.com/data/age/';\n        fetch(apiUrl)\n            .then((response) => response.json())\n            .then(result => {\n                setData(areaP(result));\n                setKeys(getKeys(result));\n                setLoading(false);\n            })\n    }, [])\n    console.log(data)\n\n    // const handleChange = (event) => {\n    //     setSelector(event.target.value);\n    // };\n\n    return (\n        <Card\n            className={clsx(classes.root, className)}\n            {...rest}\n        >\n            <CardHeader\n                // action={(\n                //     <Select\n                //         endIcon={<ArrowDropDownIcon />}\n                //         value={selector}\n                //         onChange={handleChange}\n                //     >\n                //         <MenuItem value={0}>Chest Pain</MenuItem>\n                //         <MenuItem value={1}>Pneumonia</MenuItem>\n                //         <MenuItem value={2}>Sepsis</MenuItem>\n                //         <MenuItem value={3}>Trauma</MenuItem>\n                //     </Select>\n                // )}\n                title=\"Q4 Age Area Chart\"\n            />\n            <Divider />\n            <CardContent id={\"lc\"}>\n                {/* <Box\n          id={\"gbc\"}\n          height={400}\n          position=\"relative\"\n        > */}\n                {!loading ? <AreaChart data={data} keys={keys} size={[450, 500]} /> : <CircularProgress />}\n                {/* </Box> */}\n            </CardContent>\n            <Divider />\n            <Box\n                display=\"flex\"\n                justifyContent=\"flex-end\"\n                p={2}\n            >\n                {/* <Button\n          color=\"primary\"\n          endIcon={<ArrowRightIcon />}\n          size=\"small\"\n          variant=\"text\"\n        >\n          Overview\n        </Button> */}\n            </Box>\n        </Card>\n    );\n};\n\nDiagnosesLineChart.propTypes = {\n    className: PropTypes.string\n};\n\nexport default DiagnosesLineChart;\n"]},"metadata":{},"sourceType":"module"}