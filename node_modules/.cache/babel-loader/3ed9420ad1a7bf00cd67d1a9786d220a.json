{"ast":null,"code":"var _jsxFileName = \"/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/StackedBarChart.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport * as d3l from 'd3-svg-legend';\nimport './StackedBarChart.css';\n\nclass StackedBarChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.removeExistingBars = this.removeExistingBars.bind(this);\n    this.createBarChart = this.createBarChart.bind(this);\n    this.state = {\n      svg: null,\n      div: null\n    };\n  }\n\n  componentDidMount() {\n    const owidth = this.props.size[0];\n    const oheight = this.props.size[1];\n    var margin = {\n      top: 20,\n      right: 0,\n      bottom: 20,\n      left: 70\n    },\n        width = owidth - margin.left - margin.right,\n        height = oheight - margin.top - margin.bottom;\n    const svg = d3.select(\"body\").select(\"#sb\").select(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    const div = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip-donut\").style(\"opacity\", 0);\n    this.setState({\n      svg,\n      div,\n      width,\n      height\n    });\n  }\n\n  componentDidUpdate() {\n    this.removeExistingBars();\n    this.createBarChart();\n  }\n\n  midpoint(range) {\n    return range[0] + (range[1] - range[0]) / 2.0;\n  }\n\n  removeExistingBars() {\n    const {\n      svg\n    } = this.state;\n    svg.selectAll(\"*\").remove();\n  }\n\n  createBarChart() {\n    const {\n      svg\n    } = this.state;\n    const {\n      div\n    } = this.state;\n    const owidth = this.props.size[0];\n    const oheight = this.props.size[1];\n    const selector = this.props.selector;\n    var margin = {\n      top: 20,\n      right: 0,\n      bottom: 20,\n      left: 70\n    },\n        width = owidth - margin.left - margin.right,\n        height = oheight - margin.top - margin.bottom;\n    let data = this.props.data;\n    let output = data.filter(function (e) {\n      return e.gender === selector;\n    });\n    var yScale = d3.scaleBand().range([margin.top, height - margin.bottom]).padding(0.1).paddingOuter(0.2).rangeRound([0, height]).align(0.1);\n    var xScale = d3.scaleLinear().rangeRound([0, width]);\n    var zScale = d3.scaleOrdinal(d3.schemeCategory10);\n    console.log(\"newdata filter\", data);\n    var keys = [\"Government\", \"Medicaid\", \"Medicare\", \"Private\", \"Self Pay\"];\n    xScale.domain([0, 1500]);\n    yScale.domain(output.map(function (d) {\n      return d.disease;\n    }));\n    zScale.domain(keys);\n    console.log(\"keys\");\n    console.log(keys);\n    console.log(\"output\");\n    console.log(output);\n    console.log(\"d3\");\n    console.log(d3.stack().keys(keys)(output));\n    svg.attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    svg.append(\"g\").attr(\"class\", \"axis\").style(\"stroke\", \"lightslategray\").call(d3.axisLeft(yScale).ticks(null, \"s\"));\n    svg.append(\"g\").attr(\"class\", \"axis\").attr(\"transform\", \"translate(0,\" + height + \")\").style(\"stroke\", \"lightslategray\").call(d3.axisBottom(xScale).ticks(16, \"f\"));\n    svg.append(\"g\").selectAll(\"g\").data(d3.stack().keys(keys)(output)).enter().append(\"g\").attr(\"fill\", function (d) {\n      return zScale(d.key);\n    }).selectAll(\"rect\").data(function (d) {\n      {\n        console.log(\"stacked\", d);\n      }\n      return d;\n    }).enter().append(\"rect\").attr(\"y\", function (d) {\n      {\n        console.log(\"y\", d);\n      }\n      return yScale(d.data.disease);\n    }).attr(\"x\", function (d) {\n      {\n        console.log(\"x\", d);\n      }\n      return xScale(d[0]);\n    }).attr(\"height\", function (d) {\n      return yScale.bandwidth();\n    }).on(\"mouseover\", function (event, d) {\n      d3.select(this).transition().duration('50').attr('opacity', .50);\n      console.log(d, event); /// add to html\n\n      div.transition().duration(50).style(\"opacity\", 1);\n      let key = Object.keys(d.data).find(key => d.data[key] === d[1] - d[0]);\n      div.html(\" Alarm Type: \" + key + \"<br>\" + \"Total Number of Alarms: \" + (d[1] - d[0])).style(\"left\", event.pageX - 30 + \"px\").style(\"top\", event.pageY - 15 + \"px\");\n    }).on(\"mouseout\", function (d) {\n      d3.select(this).transition().duration('50').attr('opacity', 1);\n      div.transition().duration('50').style(\"opacity\", 0);\n    }).transition().duration(2000) //time in ms\n    .attr(\"width\", function (d) {\n      return xScale(d[1]) - xScale(d[0]);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default StackedBarChart;","map":{"version":3,"sources":["/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/StackedBarChart.js"],"names":["React","d3","d3l","StackedBarChart","Component","constructor","props","removeExistingBars","bind","createBarChart","state","svg","div","componentDidMount","owidth","size","oheight","margin","top","right","bottom","left","width","height","select","attr","append","style","setState","componentDidUpdate","midpoint","range","selectAll","remove","selector","data","output","filter","e","gender","yScale","scaleBand","padding","paddingOuter","rangeRound","align","xScale","scaleLinear","zScale","scaleOrdinal","schemeCategory10","console","log","keys","domain","map","d","disease","stack","call","axisLeft","ticks","axisBottom","enter","key","bandwidth","on","event","transition","duration","Object","find","html","pageX","pageY","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport * as d3l from 'd3-svg-legend'\nimport './StackedBarChart.css'\n\nclass StackedBarChart extends React.Component {\n    constructor(props) {\n        super(props)\n        this.removeExistingBars = this.removeExistingBars.bind(this);\n        this.createBarChart = this.createBarChart.bind(this)\n        this.state = {\n            svg: null,\n            div: null\n        };\n\n    }\n    componentDidMount() {\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n\n        var margin = { top: 20, right: 0, bottom: 20, left: 70 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        const svg = d3.select(\"body\").select(\"#sb\").select(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        const div = d3.select(\"body\").append(\"div\")\n            .attr(\"class\", \"tooltip-donut\")\n            .style(\"opacity\", 0);\n\n        this.setState({ svg, div, width, height });\n    }\n    componentDidUpdate() {\n        this.removeExistingBars();\n        this.createBarChart();\n    }\n\n    midpoint(range) {\n        return range[0] + (range[1] - range[0]) / 2.0;\n    }\n\n    removeExistingBars() {\n        const { svg } = this.state;\n\n        svg.selectAll(\"*\").remove();\n\n    }\n\n    createBarChart() {\n        const { svg } = this.state;\n        const { div } = this.state;\n\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n\n        const selector = this.props.selector\n\n        var margin = { top: 20, right: 0, bottom: 20, left: 70 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        let data = this.props.data\n\n        let output = data.filter(function (e) {\n            return e.gender === selector;\n        });\n\n\n        var yScale = d3.scaleBand()\n            .range([margin.top, height - margin.bottom])\n            .padding(0.1)\n            .paddingOuter(0.2)\n            .rangeRound([0, height])\n            .align(0.1);\n\n        var xScale = d3.scaleLinear()\n            .rangeRound([0, width]);\n\n        var zScale = d3.scaleOrdinal(d3.schemeCategory10)\n\n        console.log(\"newdata filter\", data)\n\n\n\n        var keys = [\"Government\", \"Medicaid\", \"Medicare\", \"Private\", \"Self Pay\"]\n        xScale.domain([0, 1500])\n\n\n        yScale.domain(output.map(function (d) { return d.disease; }));\n\n        zScale.domain(keys)\n\n        console.log(\"keys\")\n        console.log(keys)\n\n\n        console.log(\"output\")\n        console.log(output)\n\n        console.log(\"d3\")\n        console.log(d3.stack().keys(keys)(output))\n\n        svg.attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n        svg.append(\"g\")\n            .attr(\"class\", \"axis\")\n            .style(\"stroke\", \"lightslategray\")\n            .call(d3.axisLeft(yScale).ticks(null, \"s\"));\n        svg.append(\"g\")\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .style(\"stroke\", \"lightslategray\")\n            .call(d3.axisBottom(xScale).ticks(16, \"f\"));\n\n        svg.append(\"g\")\n            .selectAll(\"g\")\n            .data(d3.stack().keys(keys)(output))\n            .enter().append(\"g\")\n            .attr(\"fill\", function (d) { return zScale(d.key) })\n            .selectAll(\"rect\").data(function (d) { { console.log(\"stacked\", d) } return d; })\n            .enter().append(\"rect\")\n            .attr(\"y\", function (d) { { console.log(\"y\", d) } return yScale(d.data.disease) })\n            .attr(\"x\", function (d) { { console.log(\"x\", d) } return xScale(d[0]) })\n            .attr(\"height\", function (d) {\n                return yScale.bandwidth()\n            })\n            .on(\"mouseover\", function (event, d) {\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', .50);\n                console.log(d, event)\n                /// add to html\n                div.transition()\n                    .duration(50)\n                    .style(\"opacity\", 1)\n                let key = Object.keys(d.data).find(key => d.data[key] === d[1] - d[0]);\n\n                div.html(\" Alarm Type: \" + key + \"<br>\" + \"Total Number of Alarms: \" + (d[1] - d[0]))\n                    .style(\"left\", (event.pageX - 30) + \"px\")\n                    .style(\"top\", (event.pageY - 15) + \"px\")\n\n            })\n            .on(\"mouseout\", function (d) {\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', 1)\n                div.transition()\n                    .duration('50')\n                    .style(\"opacity\", 0)\n            })\n            .transition()\n            .duration(2000)//time in ms\n            .attr(\"width\", function (d) {\n                return xScale(d[1]) - xScale(d[0])\n            })\n\n    }\n\n    render() {\n        return (\n            <svg />\n        )\n    }\n}\n\nexport default StackedBarChart;\n"]},"metadata":{},"sourceType":"module"}