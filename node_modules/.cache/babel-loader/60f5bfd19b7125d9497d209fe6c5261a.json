{"ast":null,"code":"var _jsxFileName = \"/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/LineChart.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nlet svg_count = 0;\n\nclass LineChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.removeExistingBars = this.removeExistingBars.bind(this);\n    this.createBarChart = this.createBarChart.bind(this);\n    this.state = {\n      svg: null\n    };\n  }\n\n  componentDidMount() {\n    const owidth = this.props.size[0];\n    const oheight = this.props.size[1];\n    var margin = {\n      top: 20,\n      right: 20,\n      bottom: 70,\n      left: 100\n    },\n        width = owidth - margin.left - margin.right,\n        height = oheight - margin.top - margin.bottom;\n    const svg = d3.select(\"body\").select(\"#sp\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    this.setState({\n      svg\n    });\n  }\n\n  componentDidUpdate() {\n    this.removeExistingBars();\n    this.createBarChart();\n  }\n\n  midpoint(range) {\n    return range[0] + (range[1] - range[0]) / 2.0;\n  }\n\n  removeExistingBars() {\n    const {\n      svg\n    } = this.state;\n    svg.selectAll(\"*\").remove();\n  }\n\n  createBarChart() {\n    const {\n      svg\n    } = this.state;\n    let dataset = this.props.data;\n    const owidth = this.props.size[0];\n    const oheight = this.props.size[1];\n    const selector = this.props.selector;\n    console.log(\"data\", dataset); // dataset = dataset.filter(d => d.age < 300)\n    // dataset = dataset.filter(d => d.age > 0)\n\n    var margin = {\n      top: 20,\n      right: 20,\n      bottom: 70,\n      left: 100\n    },\n        width = owidth - margin.left - margin.right,\n        height = oheight - margin.top - margin.bottom;\n    console.log(\"fdata\", dataset);\n    var dval = dataset[selector].values.map(function (d) {\n      return d.age;\n    });\n    var dig = dataset[selector].values.map(function (d) {\n      return d.value;\n    });\n    console.log(\"distribution\", dval);\n    console.log(\"value\", dig); // 5. X scale will use the index of our data\n\n    var xScale = d3.scaleLinear().range([0, width]); // output\n    // 6. Y scale will use the randomly generate number \n\n    var yScale = d3.scaleLinear() // .domain([0, 1]) // input \n    .range([height, 0]); // output \n\n    xScale.domain(d3.extent(dataset, function (d) {\n      return d.age;\n    }));\n    yScale.domain([0, d3.max(dataset, function (key) {\n      return d3.max(key.values, function (d) {\n        return d.value;\n      });\n    })]);\n    var color = [\"#D73F47\", \"#3381E1\", \"#ED7A22\", \"#65A9A3\"]; // var line2 = d3.line()\n    //     .x(function (d, i) { return xScale(d[0].x); }) // set the x values for the line generator\n    //     .y(function (d) { return yScale(d.y); }) // set the y values for the line generator\n    //     .curve(d3.curveMonotoneX) // apply smoothing to the line\n    // var color = d3.scaleOrdinal(d3.schemeCategory10)\n\n    console.log(\"graphdata\", dataset);\n    xScale.domain([5, 130]);\n    yScale.domain([0, d3.max(dig)]); // xScale.domain([0, d3.max(dataset, function (key) { return d3.max(key.values, function (d) { return d.distribution; }); })]);\n    // yScale.domain([0, d3.max(dataset, function (key) { return d3.max(key.values, function (d) { return d.value; }); })]);\n\n    svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xScale));\n    svg.append(\"g\").attr(\"class\", \"y axis\").call(d3.axisLeft(yScale)); // for (var singlekey = 0; singlekey < 1; singlekey++) {\n\n    let single = Object.values(dataset[selector])[1];\n    console.log(single);\n    console.log(selector);\n    var line = d3.line().x(function (d, i) {\n      return xScale(d.age);\n    }) // set the x values for the line generator\n    .y(function (d) {\n      return yScale(d.value);\n    }) // set the y values for the line generator\n    .curve(d3.curveMonotoneX); // apply smoothing to the line\n\n    svg.append(\"path\").datum(single).attr(\"d\", line).attr(\"fill\", \"none\").attr(\"stroke\", color[selector]).attr(\"stroke-width\", 1.5);\n    svg.selectAll(\".dot\").data(single).enter().append(\"circle\").attr(\"class\", \"dot\").attr(\"cx\", function (d, i) {\n      return xScale(d.age);\n    }).attr(\"cy\", function (d) {\n      return yScale(d.value);\n    }) // .attr(\"transform\", \"translate(40)\")\n    .style(\"fill\", color[selector]).attr(\"r\", 5).on(\"mouseover\", function (a, b, c) {\n      console.log(a);\n      this.attr('class', 'focus');\n    }).on(\"mouseout\", function () {}); // svg.append(\"path\")\n    //     .datum(single)\n    //     .attr(\"class\", \"line\")\n    //     .attr(\"d\", line)\n    //     .attr(\"fill\", \"none\")\n    //     .attr(\"stroke\", color[selector])\n    //     .attr(\"stroke-width\", 1.5)\n    // svg.selectAll(\".dot\")\n    //     .data(single)\n    //     .enter().append(\"circle\")\n    //     .attr(\"class\", \"dot1\")\n    //     .attr(\"cx\", function (d) { return xScale(d.age) })\n    //     .attr(\"cy\", function (d) { return yScale(d.value) })\n    //     .attr(\"transform\", \"translate(40)\")\n    //     .attr(\"r\", 5)\n    //     .style(\"fill\", color[selector])\n    // .style(\"fill\", color(selector))\n    // .on(\"mouseover\", function (a, b, c) {\n    //     console.log(a)\n    //     this.attr('class', 'focus')\n    // })\n    // .on(\"mouseout\", function () { })\n    //       .on(\"mousemove\", mousemove);\n\n    const xmid = xScale.range()[0] + (xScale.range()[1] - xScale.range()[0]) / 2.0;\n    const ymid = yScale.range()[0] + (yScale.range()[1] - yScale.range()[0]) / 2.0;\n    const xtitle = svg.append('text').attr('class', 'axis-title').text(\"Age\");\n    xtitle.attr('text-anchor', 'middle');\n    xtitle.attr('x', xmid);\n    xtitle.attr('y', height + 40);\n    const ytitle = svg.append('text').attr('class', 'axis-title').text('Distribution');\n    ytitle.attr('x', -240);\n    ytitle.attr('y', -80);\n    ytitle.attr('dy', '1.75ex');\n    ytitle.attr('text-anchor', 'middle');\n    ytitle.attr('transform', 'rotate(-90)'); // const tooltip = d3\n    //     .select('#container')\n    //     .append('div')\n    //     .attr('class', 'tooltip')\n    //     .style('opacity', 0);\n    // function mouseover() {\n    //     d3.select(this).attr(\"opacity\", .5)\n    // }\n    // function mouseout() {\n    //     d3.select(this).attr(\"opacity\", 1);\n    // }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default LineChart;","map":{"version":3,"sources":["/Users/aditya/Dropbox/Senior S1/ST/dashboard/src/views/dashboard/DashboardView/LineChart.js"],"names":["React","d3","svg_count","LineChart","Component","constructor","props","removeExistingBars","bind","createBarChart","state","svg","componentDidMount","owidth","size","oheight","margin","top","right","bottom","left","width","height","select","append","attr","setState","componentDidUpdate","midpoint","range","selectAll","remove","dataset","data","selector","console","log","dval","values","map","d","age","dig","value","xScale","scaleLinear","yScale","domain","extent","max","key","color","call","axisBottom","axisLeft","single","Object","line","x","i","y","curve","curveMonotoneX","datum","enter","style","on","a","b","c","xmid","ymid","xtitle","text","ytitle","render","myRef"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\n\nlet svg_count = 0;\n\nclass LineChart extends React.Component {\n    constructor(props) {\n        super(props)\n        this.removeExistingBars = this.removeExistingBars.bind(this);\n        this.createBarChart = this.createBarChart.bind(this)\n        this.state = {\n            svg: null\n        };\n\n    }\n    componentDidMount() {\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n\n        var margin = { top: 20, right: 20, bottom: 70, left: 100 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        const svg = d3.select(\"body\").select(\"#sp\").append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        this.setState({ svg });\n    }\n    componentDidUpdate() {\n        this.removeExistingBars();\n        this.createBarChart();\n    }\n\n    midpoint(range) {\n        return range[0] + (range[1] - range[0]) / 2.0;\n    }\n\n    removeExistingBars() {\n        const { svg } = this.state;\n\n        svg.selectAll(\"*\").remove();\n\n    }\n\n    createBarChart() {\n        const { svg } = this.state;\n        let dataset = this.props.data\n        const owidth = this.props.size[0]\n        const oheight = this.props.size[1]\n\n        const selector = this.props.selector\n\n        console.log(\"data\", dataset);\n\n        // dataset = dataset.filter(d => d.age < 300)\n        // dataset = dataset.filter(d => d.age > 0)\n\n\n        var margin = { top: 20, right: 20, bottom: 70, left: 100 },\n            width = owidth - margin.left - margin.right,\n            height = oheight - margin.top - margin.bottom;\n\n        console.log(\"fdata\", dataset);\n\n        var dval = dataset[selector].values.map(function (d) { return d.age; });\n        var dig = dataset[selector].values.map(function (d) { return d.value; });\n\n        console.log(\"distribution\", dval)\n        console.log(\"value\", dig)\n\n\n        // 5. X scale will use the index of our data\n        var xScale = d3.scaleLinear()\n            .range([0, width]); // output\n\n        // 6. Y scale will use the randomly generate number \n        var yScale = d3.scaleLinear()\n            // .domain([0, 1]) // input \n            .range([height, 0]); // output \n\n\n        xScale.domain(d3.extent(dataset, function (d) { return d.age; }))\n        yScale.domain([0, d3.max(dataset, function (key) { return d3.max(key.values, function (d) { return d.value; }); })]);\n\n\n        var color = [\"#D73F47\", \"#3381E1\", \"#ED7A22\", \"#65A9A3\"];\n\n        // var line2 = d3.line()\n        //     .x(function (d, i) { return xScale(d[0].x); }) // set the x values for the line generator\n        //     .y(function (d) { return yScale(d.y); }) // set the y values for the line generator\n        //     .curve(d3.curveMonotoneX) // apply smoothing to the line\n\n\n        // var color = d3.scaleOrdinal(d3.schemeCategory10)\n\n        console.log(\"graphdata\", dataset)\n\n\n        xScale.domain([5, 130]);\n\n        yScale.domain([0, d3.max(dig)]);\n\n        // xScale.domain([0, d3.max(dataset, function (key) { return d3.max(key.values, function (d) { return d.distribution; }); })]);\n        // yScale.domain([0, d3.max(dataset, function (key) { return d3.max(key.values, function (d) { return d.value; }); })]);\n\n\n        svg.append(\"g\")\n            .attr(\"class\", \"x axis\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xScale));\n\n        svg.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .call(d3.axisLeft(yScale));\n\n\n        // for (var singlekey = 0; singlekey < 1; singlekey++) {\n        let single = Object.values(dataset[selector])[1]\n        console.log(single)\n        console.log(selector)\n\n        var line = d3.line()\n            .x(function (d, i) { return xScale(d.age); }) // set the x values for the line generator\n            .y(function (d) { return yScale(d.value); }) // set the y values for the line generator\n            .curve(d3.curveMonotoneX) // apply smoothing to the line\n\n\n        svg.append(\"path\")\n            .datum(single)\n            .attr(\"d\", line)\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", color[selector])\n            .attr(\"stroke-width\", 1.5)\n\n        svg.selectAll(\".dot\")\n            .data(single)\n            .enter().append(\"circle\")\n            .attr(\"class\", \"dot\")\n            .attr(\"cx\", function (d, i) { return xScale(d.age) })\n            .attr(\"cy\", function (d) { return yScale(d.value) })\n            // .attr(\"transform\", \"translate(40)\")\n            .style(\"fill\", color[selector])\n\n            .attr(\"r\", 5)\n            .on(\"mouseover\", function (a, b, c) {\n                console.log(a)\n                this.attr('class', 'focus')\n            })\n            .on(\"mouseout\", function () { })\n\n\n        // svg.append(\"path\")\n        //     .datum(single)\n        //     .attr(\"class\", \"line\")\n        //     .attr(\"d\", line)\n        //     .attr(\"fill\", \"none\")\n        //     .attr(\"stroke\", color[selector])\n        //     .attr(\"stroke-width\", 1.5)\n\n\n\n        // svg.selectAll(\".dot\")\n        //     .data(single)\n        //     .enter().append(\"circle\")\n        //     .attr(\"class\", \"dot1\")\n        //     .attr(\"cx\", function (d) { return xScale(d.age) })\n        //     .attr(\"cy\", function (d) { return yScale(d.value) })\n        //     .attr(\"transform\", \"translate(40)\")\n        //     .attr(\"r\", 5)\n        //     .style(\"fill\", color[selector])\n\n        // .style(\"fill\", color(selector))\n        // .on(\"mouseover\", function (a, b, c) {\n        //     console.log(a)\n        //     this.attr('class', 'focus')\n        // })\n        // .on(\"mouseout\", function () { })\n        //       .on(\"mousemove\", mousemove);\n\n\n        const xmid = xScale.range()[0] + (xScale.range()[1] - xScale.range()[0]) / 2.0;\n        const ymid = yScale.range()[0] + (yScale.range()[1] - yScale.range()[0]) / 2.0;\n        const xtitle = svg.append('text')\n            .attr('class', 'axis-title')\n            .text(\"Age\");\n        xtitle.attr('text-anchor', 'middle');\n        xtitle.attr('x', xmid);\n        xtitle.attr('y', height + 40);\n        const ytitle = svg.append('text')\n            .attr('class', 'axis-title')\n            .text('Distribution')\n        ytitle.attr('x', -240);\n        ytitle.attr('y', -80);\n        ytitle.attr('dy', '1.75ex');\n        ytitle.attr('text-anchor', 'middle');\n        ytitle.attr('transform', 'rotate(-90)');\n\n        // const tooltip = d3\n        //     .select('#container')\n        //     .append('div')\n        //     .attr('class', 'tooltip')\n        //     .style('opacity', 0);\n\n        // function mouseover() {\n        //     d3.select(this).attr(\"opacity\", .5)\n\n        // }\n\n        // function mouseout() {\n        //     d3.select(this).attr(\"opacity\", 1);\n        // }\n\n    }\n\n\n\n    render() {\n        return (\n            <div ref={this.myRef} />\n        )\n    }\n\n}\n\nexport default LineChart;\n"]},"metadata":{},"sourceType":"module"}